---
created: 2024-01-11T19:36:21 (UTC +01:00)
source: https://leetcode.com/problems/maximum-difference-between-node-and-ancestor/description/?envType=daily-question&envId=2024-01-11
---
Given the root of a binary tree, find the maximum value v for which there exist different nodes a and b where v = |a.val - b.val| and a is an ancestor of b.

A node a is an ancestor of b if either: any child of a is equal to b or any child of a is an ancestor of b.

Example 1:

![img.png](img.png)


Input: root = [8,3,10,1,6,null,14,null,null,4,7,13]
Output: 7
Explanation: We have various ancestor-node differences, some of which are given below :
|8 - 3| = 5
|3 - 7| = 4
|8 - 1| = 7
|10 - 13| = 3
Among all possible differences, the maximum value of 7 is obtained by |8 - 1| = 7.

Example 2:

![img_1.png](img_1.png)


Input: root = [1,null,2,null,0,3]
Output: 3

Constraints:

* The number of nodes in the tree is in the range [2, 5000].
* 0 <= Node.val <= 105

---
```
[7,null,13]
[166,179,null,167,null,102,139,122,118,114,null,null,null,null,null,9,14]
[54,85,48,null,null,146,null,null,41,41,187,176,158,null,null,null,null,null,17]
[7,332,315,44,391,292,124,374,371,null,null,103,24,null,null,null,230,350,null,null,null,null,241,87,353,147,85,null,null,null,226,null,null,null,null,null,null,null,11]
[280,21,331,15,231,276,200,null,null,37,185,76,330,null,null,null,223,235,null,null,140,null,null,46,56,null,204,250,348,null,null,null,null,190]
[1902,531,641,1447,412,714,819,1304,1218,null,1153,1399,70,1,null,684,45,632,89,1065,1751,1907,1820,null,null,1096,588,null,1386,61,1737,1869,1408,null,1413,1759,1331,913,1992,942,null,null,1174,1081,787,523,null,1632,null,null,690,126,null,null,null,null,1371,615,null,null,1995,1312,null,707,null,null,null,233,432,467,1506,1208,null,395,1303,null,537,null,null,1363,1535,407,null,null,null,null,null,null,null,null,null,null,null,1138,1713,null,1037,1383,279,769,799,1770,1655,1633,null,null,null,221,null,1935,174,null,null,null,null,295,252,1780,1920,null,26,561,1545,null,null,null,null,1652,null,null,null,104,null,null,null,null,1349,null,null,null,1601,null,null,null,null,22,null,1834,null,null,null,277,847,null,1406,null,685,1461,null,null,null,null,null,null,1256,null,null,1460,829,null,382,null,null,null,null,899,null,null,null,1881,1517,null,null,null,null,null,null,18,null,421,null,null,1997,null,null,null,1546,null,1157]
[1849,453,1299,1072,500,349,834,null,null,null,null,1589,1345,12,1311,1641,1529,681,499,1765,1697,562,575,73,null,1460,null,857,1355,53,262,1295,639,530,1225,626,871,1875,1744,null,1051,1614,1902,null,1331,null,632,null,1017,null,515,null,1738,null,null,1214,1914,1908,1004,null,null,null,null,1711,1013,1979,1226,null,null,60,null,1681,1051,null,556,null,null,909,226,null,174,1173,null,535,396,173,378,1978,null,869,88,null,727,74,421,null,null,null,685,null,251,null,1982,null,null,null,null,null,null,null,1135,null,null,null,null,1309,8,1917,null,1327,null,1568,null,null,1034,null,382,null,null,860,1359,null,null,null,null,null,null,null,null,null,null,null,null,1597,332,null,339,272,null,null,null,null,1029,null,1261,209,null,null,null,210,null,802,626,null,null,null,76,742,null,null,null,null,1964,1555,406,null,null,null,null,null,51,null,null,null,null,861,null,null,null,null,1217,1541,null,null,null,1592]
[424,7756,5747,12332,17514,9587,10752,1703,13718,5552,1534,19747,14387,9397,6827,9216,4065,18652,15555,5104,1740,12677,726,14068,6741,4234,1073,16358,10356,6680,19589,11146,18797,null,19872,7248,12905,12936,1150,16031,1728,9896,9545,17493,3104,15411,2551,4970,12732,5733,19830,17528,2342,4430,null,1619,null,19505,null,13104,5858,14863,5480,2838,517,6987,17213,null,null,8261,15324,5221,17145,9627,15605,4575,8561,11848,null,8034,4754,null,17627,11679,6224,13224,6196,13620,13509,4678,16574,8739,null,19072,7307,16239,14130,10325,5602,null,17955,null,11409,5396,15714,10706,null,null,null,null,1803,null,9286,16113,17087,null,12738,15444,11808,6955,795,2808,2686,8325,18385,10499,5718,10987,3367,6499,4283,18761,19049,13156,60,7356,6570,12871,12445,9802,5986,1422,283,null,null,18581,6479,7956,null,10398,10789,14584,3907,null,null,18910,3860,12951,null,6691,16938,8590,6206,null,9546,17350,null,null,null,18769,14519,10888,2330,3473,13850,15945,2623,null,4313,8768,768,4529,19016,13298,10469,3469,6151,19244,7621,null,null,null,19005,null,null,null,null,19981,109,1608,3196,null,null,1290,null,18342,15951,null,null,19129,9927,11623,8758,18700,17843,18092,7595,15436,15771,12632,849,15237,16304,null,null,10942,19924,17028,1404,null,null,13246,7305,19095,2259,4312,15653,1095,5762,17295,6073,12848,4524,12185,773,5089,9253,8417,1203,14341,5857,8012,5971,3629,null,5154,16779,null,12655,7766,8246,null,null,5736,15972,null,15533,5249,8376,null,null,11702,18660,6690,11237,5106,643,15070,4377,10184,14081,8319,null,null,5734,null,13683,7053,3178,8294,2292,5684,3565,1081,null,18776,null,null,9617,null,null,12192,null,13071,4499,3810,7654,null,null,15715,9964,11255,10993,null,6652,14325,null,12917,null,9748,9036,18025,1656,null,null,18692,2894,10178,6449,18766,10315,null,null,15757,null,null,8683,3023,19601,null,15538,2675,17946,9356,6731,10629,15710,19216,3622,null,14581,null,null,12035,15088,8606,null,17269,3287,null,15007,null,null,7365,3421,7246,5610,12517,null,null,7157,18183,17608,18572,482,903,null,4425,1304,11940,1133,1068,null,605,15715,null,null,3352,11209,14295,7390,null,null,18150,2266,8910,15808,3038,11691,3610,17332,null,9810,9850,14463,17968,10954,9589,null,2600,null,13376,9039,null,null,18643,17048,13304,17042,null,null,null,null,null,18487,null,null,17408,null,null,null,null,null,256,4236,12412,18085,null,696,9184,null,null,null,null,null,null,null,null,null,6667,null,1660,null,null,12954,19038,13781,null,14174,null,16090,2722,null,null,3367,null,12807,17563,null,18998,18956,null,11934,null,10348,3455,503,null,3560,null,4996,null,null,10222,13029,null,null,5628,14908,null,null,9482,null,4592,null,18699,6763,17051,7786,null,null,null,null,null,null,8489,null,null,1422,null,19560,3806,19328,3174,12196,8178,1767,null,null,434,6563,7861,null,14500,4668,null,9462,51,null,null,null,2198,null,null,null,null,null,19498,null,null,8641,16242,null,15205,3297,12449,null,4636,12072,null,2532,12935,14773,null,18251,null,null,15402,11967,12441,null,null,null,19018,15024,816,null,null,4567,null,11396,null,null,3091,11406,13137,13024,1298,null,11265,1841,null,null,9242,3646,9569,656,2291,12838,null,null,19322,2961,null,null,3101,null,null,5239,8835,6459,null,18122,null,5676,15674,null,63,null,15903,8373,null,4085,null,13727,11902,null,null,null,null,3328,2169,5951,1566,5967,933,2719,null,11251,null,null,9039,3076,null,null,6613,19540,3260,8494,null,5459,null,16703,null,13092,null,17555,null,6851,14463,8812,8087,17185,3215,1016,null,null,14965,null,14042,11418,null,null,17072,8018,3907,9174,null,null,null,null,null,8420,13291,null,9253,null,12799,1348,338,null,19165,51,4475,3138,null,null,17564,null,19160,17876,8398,null,4415,null,11971,null,8209,null,1952,15365,12711,3289,10746,7575,2812,null,null,null,null,null,7018,9780,5547,11750,626,19578,null,null,10782,null,11293,2494,null,7032,null,null,9228,4368,6999,null,null,null,null,18374,null,null,16294,4547,null,null,19972,null,9664,null,15079,9638,null,null,null,null,2517,null,null,4622,9382,3608,12723,3486,null,13926,null,null,10960,16569,null,null,null,null,null,16702,11424,9935,14002,2264,null,null,17740,1629,null,null,null,8164,null,null,null,null,null,579,null,null,19075,1579,2393,null,18178,null,null,null,null,null,null,17312,5202,null,11070,7957,12723,null,7464,9413,13918,5341,6096,1,15217,null,15613,10307,15516,1553,5929,null,1998,9811,18082,null,4287,8428,null,15378,17851,4991,null,9335,10475,null,2863,null,10128,9247,null,null,null,null,18692,null,null,null,4544,15210,8716,7135,6115,3119,null,674,null,null,null,null,6906,14625,null,null,null,null,13355,19911,null,null,null,null,14601,null,null,17150,null,16360,8593,3451,18948,3102,6274,5121,11867,8303,9764,null,19482,17178,null,null,10599,6295,15820,null,null,null,16341,6188,null,615,15035,6617,5075,15491,15550,8210,null,null,null,null,null,null,null,null,null,null,7391,null,null,null,null,null,2272,15755,6556,8629,null,11056,15894,4270,2418,13215,null,9484,null,16239,null,null,null,null,null,13742,null,null,null,null,null,null,null,7215,5106,360,4679,1654,9165,614,5707,17974,4160,null,null,null,12149,15317,8298,254,null,null,12818,11319,15459,null,null,null,8082,null,null,8775,19174,null,null,null,null,null,null,null,4056,10832,null,4007,null,null,null,null,null,5345,4844,null,null,null,null,11745,null,null,18814,4215,12066,18954,null,null,null,null,null,null,null,null,null,null,11497,null,null,null,null,null,null,null,null,null,16756,null,8227,null,null,null,2936,null,null,16735,null,null,null,2232,4337,null,null,null,null,null,null,null,null,null,4454,9491,null,null,11887,6197,null,null,2487,null,6584,null,null,17531,null,3990,9491,null,2471,19684,8820,null,5317,18595,null,14066,null,7592,null,10140,10578,12853,7008,1809,null,12811,null,null,15627,null,null,1370,8449,15432,null,null,null,null,null,null,7909,5570,5437,null,null,1991,7315,2033,6608,16775,null,null,1034,13954,2303,null,14311,6410,null,6670,6595,null,9361,9319,15273,18766,15073,5930,null,null,1191,16771,19395,15246,null,12039,null,null,null,7183,16126,3005,10852,null,2595,7784,4223,85,null,null,13879,3723,null,null,null,480,null,null,null,7038,null,10717,1566,null,null,159,null,null,null,null,2568,19435,null,null,null,null,null,12456,null,null,19254,18703,null,null,7015,null,null,13719,null,null,null,null,null,null,7040,6587,885,1447,null,null,null,null,null,null,null,null,null,null,16151,13038,null,null,null,null,2319,null,3435,4970,null,null,4437,null,null,null,null,1815,null,null,9518,10973,null,null,6846,12854,null,null,null,8731,null,869,null,3138,null,null,null,null,null,null,8246,null,null,null,null,null,null,396,null,15863,null,null,null,null,null,7424,null,830,18371,15874,5916,null,null,null,8503,null,null,13119,null,null,null,null,15949,null,null,null,4003,null,10517,null,null,null,6574,14771,null,3708,null,null,null,13968,4290,null,null,null,12105,14519,null,null,19616,null,8472,18310,11587,null,14515,13166,15413,6938,null,null,null,2687,null,null,null,null,499,6762,15889,null,null,8362,11113,6917,null,15568,2172,null,null,null,null,null,null,null,10374,null,8940,null,null,16381,null,null,null,4161,null,189,null,null,null,null,null,null,null,10828,6733,5795,null,null,16457,null,8091,821,9579,15670,6382,null,null,null,10680,2968,null,null,6334,null,14126,null,13571,11005,9285,null,null,null,4433,null,19510,null,16170,3936,null,null,15072,16848,12057,17485,519,8927,176,9398,null,null,11495,8099,9759,3050,null,8963,null,15521,null,null,null,13685,10080,8509,16019,null,null,null,14556,null,18457,null,14032,1530,null,null,null,null,14079,925,9586,null,11840,null,13189,null,7567,6244,null,null,null,null,null,null,11706,null,null,null,8911,null,null,null,12779,16250,null,null,14755,null,9887,null,null,null,null,null,null,11379,null,null,null,10619,null,3687,5358,12731,null,18097,null,null,null,null,null,null,null,null,11326,null,17418,null,15375,4008,null,6127,10647,826,null,null,null,8191,null,null,null,null,null,11605,null,null,null,null,null,null,null,null,14667,null,null,null,12826,null,null,null,null,null,14055,null,null,null,null,null,17034,null,8328,15562,null,null,null,null,null,567,3395,null,null,null,18967,3602,null,null,15826,18963,null,null,null,null,null,null,4085,1021,null,null,null,null,null,11558,273,12415,null,903,null,null,null,6334,null,16353,null,19774,null,5330,null,null,5810,null,null,null,null,8909,null,5031,2404,841,19103,14391,15175,2989,16219,null,12756,3868,null,null,16378,13025,null,13046,16360,13196,null,null,null,null,null,null,null,null,null,null,null,null,null,16175,122,null,null,14029,8023,null,null,2796,null,null,null,null,4631,null,12046,null,null,null,null,null,null,null,null,17664,null,9474,null,null,null,10788,1247,null,null,null,null,null,null,null,null,null,4301,null,6067,null,null,null,null,null,null,null,null,null,null,null,null,null,19907,7309,null,6748,15184,null,null,null,17995,null,null,null,null,null,13687,null,null,null,null,null,10007,null,17687,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15572,null,null,1286,null,null,4643,null,15283,8288,8484,6344,14817,null,18042,14264,null,3704,13781,null,null,null,14875,null,11072,null,null,7387,15211,18879,14627,6949,null,10717,13074,19682,3471,null,null,545,9761,4000,5396,null,null,null,null,null,null,null,null,null,null,3733,null,null,null,null,1926,null,null,null,null,6706,null,13397,9719,null,null,null,13454,4482,null,null,null,null,null,19612,null,null,null,null,null,null,null,null,null,null,null,2808,5301,12084,8487,null,null,null,null,null,null,null,2996,8773,12698,null,null,null,null,null,null,null,null,null,null,null,null,null,7147,null,null,null,null,19214,10361,9548,5583,null,null,null,1198,null,14870,null,null,null,null,18009,null,15170,10781,null,19217,null,null,17189,19770,17447,12256,null,null,null,null,null,null,null,null,null,12671,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,14113,19913,13930,17282,2948,null,6883,null,null,null,null,null,null,null,null,1848,null,6791,null,null,2451,null,null,16249,null,13188,null,null,null,null,null,null,15532,null,13650,11991,null,null,null,5892,null,null,null,null,null,18672,11683,16302,null,null,null,null,null,null,365,1429,4839,308,14947,2235,13244,null,null,13643,null,null,5909,null,9185,null,null,null,null,null,8840,null,null,null,null,null,null,null,4006,null,null,null,null,5803,17537,14397]
```
